{% extends "../applications/_tabs.njk" %}

{% block pageTitle %}
  {{ application.entity.name }} - Application Metrics
{% endblock %}

{% block insideTabs %}
  <h2 class="govuk-heading-m">Choose a time range</h2>

  {% include "../../layouts/metrics/details.njk" %}

  <h2 class="govuk-heading-m">Metrics</h2>

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-one-half">
      <h3 class="govuk-heading-m">
        Reliability %
      </h3>

      <h2 class="govuk-heading-m">
        <span id="http-reliability-value"></span>
        <span>%</span>
      </h2>

      <p class="govuk-body-s">
        Percentage of HTTP 1XX/2XX/3XX responses compared to all HTTP responses
        over the last 24 hours
      </p>
    </div>

    <div class="govuk-grid-column-one-half">
      <h3 class="govuk-heading-m">
        Avg Latency
      </h3>

      <h2 class="govuk-heading-m">
        <span id="latency-value"></span>
        <span>ms</span>
      </h2>

      <p class="govuk-body-s">
        Mean latency in milliseconds over
        the last 24 hours
      </p>
    </div>

    <div class="govuk-grid-column-full" tabindex="0">
      <h3 class="govuk-heading-m">
        HTTP responses
      </h3>

      <div id="http-responses-chart"></div>

      <p class="govuk-body-s">
        The count of HTTP responses served by
        <code>{{ application.entity.name }}</code>
        segmented by HTTP response code
      </p>
    </div>

    <div class="govuk-grid-column-full" tabindex="0">
      <h3 class="govuk-heading-m">
        Latency
      </h3>

      <div id="latency-chart"></div>

      <p class="govuk-body-s">
        The mean response latency for
        <code>{{ application.entity.name }}</code>
        in milliseconds, segmented by status code
      </p>
    </div>

    <div class="govuk-grid-column-full" tabindex="0">
      <h3 class="govuk-heading-m">
        CPU
      </h3>

      <div id="cpu-chart"></div>

      <p class="govuk-body-s">
        The percentage of CPU used by
        <code>{{ application.entity.name }}</code>
      </p>
    </div>

    <div class="govuk-grid-column-full" tabindex="0">
      <h3 class="govuk-heading-m">
        Memory
      </h3>

      <div id="memory-chart"></div>

      <p class="govuk-body-s">
        The percentage of memory quota used by
        <code>{{ application.entity.name }}</code>,
        out of a total of
        <code>{{ application.entity.memory }}MB</code>
      </p>
    </div>

    <div class="govuk-grid-column-full" tabindex="0">
      <h3 class="govuk-heading-m">
        Disk
      </h3>

      <div id="disk-chart"></div>

      <p class="govuk-body-s">
        The percentage of disk quota used by
        <code>{{ application.entity.name }}</code>,
        out of a total of
        <code>{{ application.entity.disk_quota }}MB</code>
      </p>
    </div>
  </div>

  <link href="/assets/muze.css" media="screen" rel="stylesheet" />
  <script src="/assets/muze.js"></script>
  <script src="/assets/metrics.js"></script>
{% endblock %}
